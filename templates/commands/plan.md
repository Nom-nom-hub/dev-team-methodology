---
description: Create an implementation plan that incorporates team persona input and cross-functional collaboration requirements.
handoffs:
  - label: Generate Implementation Tasks
    agent: team.tasks
    prompt: Create implementation tasks for the team plan...
scripts:
  sh: scripts/bash/setup-plan.sh --json
  ps: scripts/powershell/setup-plan.ps1 -Json
---

## User Input

```text
$ARGUMENTS
```

You **MUST** consider the user input before proceeding (if not empty).

## Outline

The text the user typed after `/team.plan` in the triggering message **is** the planning focus or additional requirements. Assume you always have it available in this conversation even if `{ARGS}` appears literally below. Do not ask the user to repeat it unless they provided an empty command.

Given that planning focus, do this:

1. **Identify the feature to plan**:
   - If on a feature branch, use the current branch
   - Determine the feature directory path: `specs/[FEATURE-NUMBER]-[FEATURE-NAME]`
   - Validate that the spec file exists: `specs/[BRANCH]/spec.md`
   - Validate that the spec has been reviewed from team perspectives

2. **Run the setup-plan script** `{SCRIPT}` to prepare the plan file and directories.

3. **Extract key information from the specification**:
   - User stories and acceptance scenarios
   - Functional requirements
   - Success criteria
   - Team persona perspectives and validations
   - Key entities and data models
   - Constraints and assumptions

4. **Generate implementation plan incorporating all team persona input**:

   a. **Product Manager Input**:
      - Technical decision impact assessment
      - Success metrics alignment strategy
      - Risk considerations and mitigation

   b. **Technical Architect Input**:
      - Architecture decisions and patterns
      - Feasibility validation confirmation
      - Technical constraint resolution
      - Performance and scalability planning

   c. **UX Designer Input**:
      - User experience implementation approach
      - Design system integration plan
      - Accessibility implementation strategy

   d. **Quality Assurance Input**:
      - Testing strategy and approach
      - Quality gates and checkpoints definition
      - Risk assessment and mitigation planning

   e. **Developer Input**:
      - Implementation approach and methodology
      - Code quality standards and practices
      - Performance optimization planning

   f. **DevOps Input**:
      - Deployment strategy and approach
      - Infrastructure requirements and setup
      - Operational considerations and monitoring

5. **Define project structure** based on team requirements:
   - Select appropriate structure (single project, web app, mobile + API, etc.)
   - Document structure decision with team validation

6. **Create team implementation phases**:
   - Phase 0: Research with assigned team member and deliverables
   - Phase 1: Design with assigned team member and deliverables
   - Phase 2: Implementation Planning with assigned team member and deliverables

7. **Document complexity tracking** if constitution check violations exist:
   - List each violation with justification
   - Document simpler alternatives rejected
   - Include team validation for each justification

8. **Create team risk assessment**:
   - Identify risks from each team persona perspective
   - Assess probability and impact of each risk
   - Define mitigation strategies

9. **Define team success criteria**:
   - Technical success metrics aligned with all team personas
   - Team collaboration success metrics
   - Delivery success metrics with team input

10. **Write the implementation plan** to `specs/[BRANCH]/plan.md` using the team template structure, incorporating all team persona input.

## Script Usage

Run the setup-plan script to initialize the plan structure:
- Bash example: `{SCRIPT}`
- PowerShell example: `{SCRIPT}`

The script will:
- Create the plan.md file
- Set up necessary directories
- Prepare placeholders for team persona information

## Team Implementation Phases

### Phase 0: Research
- **Research Lead**: Team member responsible
- **Deliverables**: research.md with team input
- **Team Involvement**: All relevant team members contribute research

### Phase 1: Design
- **Design Lead**: Team member responsible  
- **Deliverables**: data-model.md, quickstart.md, contracts/, personas/, checklists/
- **Team Involvement**: All relevant team members contribute design elements

### Phase 2: Implementation Planning
- **Implementation Lead**: Team member responsible
- **Deliverables**: tasks.md (generated by /team.tasks)
- **Team Involvement**: All relevant team members contribute task planning

## Team Validation Requirements

Each section of the plan must be validated by the relevant team personas:
- Technical decisions validated by Technical Architect
- UX requirements validated by UX Designer  
- Quality requirements validated by Quality Assurance
- Business requirements validated by Product Manager
- Implementation approach validated by Developer
- Operational requirements validated by DevOps

## Output Requirements

1. Create comprehensive implementation plan in `specs/[BRANCH]/plan.md`
2. Include all team persona perspectives and inputs
3. Define clear team responsibilities and roles
4. Document risk assessment with team input
5. Define success criteria aligned with all team personas
6. Create project structure plan with team validation
7. Update agent context with new plan information

## Guidelines

- Ensure all team persona inputs are incorporated and properly weighted
- Maintain alignment between technical approach and business goals
- Validate technical decisions against all team constraints
- Document cross-team dependencies and collaboration requirements
- Align performance goals with team capabilities and constraints
- Ensure operational requirements are met from DevOps perspective
- Verify quality standards meet QA team expectations
- Include team communication and coordination plans
- Define clear team decision-making processes

## Success Criteria for Plan

- All team personas have validated their respective inputs
- Technical approach is feasible and approved by Technical Architect
- UX requirements are implementable and validated by UX Designer
- Quality standards are achievable and validated by QA
- Business goals are technically achievable and validated by PM
- Implementation approach is realistic and validated by Developer
- Operational requirements are addressed and validated by DevOps
- Cross-team dependencies are clearly identified and managed